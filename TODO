DONE:

    Add sent packets to the sliding window

    Add received packets to the sliding window

TODO:

    Extend sliding window to return false if packet is too old
    to add to sliding window, eg. discard packet

    Detect if received packet is too old to add to sliding window

    Implement "GenerateAckBits" function.

    Unit test the generate ack bits function (it should basically take a sliding window and return ack, ack_bits)

    Properly implement "sequence_less_than" and "sequence_greater_than" functions, 
    and test that they correctly handle 16 bit wrap around.

    Hook up everything in connection layer, end result is a callback when sent packet is acked.

    Extend to include other stats via counters, eg. number of packets written, read, acked.

    ------

    Implement connection protocol. This should basically be a new packet type "ConnectionPacket"
    which internally allows me to implement the reliability header, reliable messages w. channels
    and so on.

    Key difference here is that messages should be arbitrary length (short or long) and should
    be fragmented and reassembled as needed to fit in the packet, vs. previous systems where I
    have treated small (events) and large (chunks) separately.

    Basic idea is a reliable-ordered protocol with flexible messages of any size, plus channels
    so I can avoid waiting for long blocks of data if I don't wish to, plus unreliable-unordered
    state messages, and potentially delta encoding.

    Connection should be flexible enough to define your own paylod as well.

INTERNET READY:

    Implement proper range encoder. Don't do a bitpacker this time that's already been done.

    Study how it works. Implement something that encodes and decodes in-place. Optimize for CPU later.

    Add encryption for packets, assuming that matchmaker will provide secret key, any fast key
    based encryption is acceptable. Do this at the network interface level, eg. network interface
    accepts a key. If the key is a non-empty string, apply the encrytion before send, and decrypt
    on recvfrom.

    Make sure there is some checksum or basic check for packets, eg. signing packets. tamper check.
    Reuse the same key for encryption if possible. Research this and study how it is done.

OPTIMIZATION:

    Optimize range encoder

    Send and receive queues should be lockless threadsafe

    Separate send and receive threads for NetworkInterface

    Investigate different methods for sending and receiving UDP packets,
    eg. completion ports on Win32, whatever method is fastest on linux etc.

    Run throughput tests with linux hosts. Test CPU usage etc.
