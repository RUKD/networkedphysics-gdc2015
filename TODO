DONE:

TODO:

    --------------------------------------------------------------------------

    Implement code to reduce the position error over time.

    Implement code to reduce the orientation error over time (slerp towards identity)

    Make sure neither case have issues with denormals, esp. position.

    When a state update is applied, recalculate the position/orientation error.

    Verify that in smoothing mode the smoothing is working properly (katamari ball)

    Tune it so it looks as good as possible.

    -------------------------------------------------------------------------

    There appears to be some jittering on the right side in mode 5.

    Only appears after a while in the katamari cube

    What is going on?!

    (I suspect the input frame is getting out of sync somehow?)

    -------------------------------------------------------------------------

    This article needs to be finished. Don't implement anything beyond here!!!

    In the article discuss improvements past the smoothing but don't implement!
    
    Encode position relative to player cube as offset. Output the offsets as 
    data set and optimize to find the best bit encoding. xy vs. z, try one level
    and two level bits.

    Use reliability system to know which packets got through (link to article).

    Keep track of, per-cube the last sequence # it changed on. If it hasn't
    changed since that sequence lower its priority even further (still send it
    though...)

    Use reliability system to drive delta encoding. Per-cube need 16 bit sequence
    to identify base, receiver needs to buffer a lot of bases. If last sent packet
    exceeds time then the object isn't changing much, so the lowering priority
    if it is unchanged picks up this case.

    Can do better than 16 bit base per-object. Moving objects get updated frequently, 
    so any object that has moved in the last 1 second @ 60pps = [0,63], 5 bits per-object,
    4 bits for 1/2 second, 2 bits for 1/4 second. Use statistics to identify the profitable
    bit range for deltas (depends on the average rate of update for moving objects)

    If input changes and a packet is lost with that change there will be visual glitches

    To fix, add *some* small delay @ 60fps (85ms or so) to handle lost packets and 
    jitter, to make it *EXTREMELY* unlikely that an input would be lost, and then
    use the same technique from deterministic lockstep to redundantly send unacked
    inputs.

    In fact, there is almost a continuum of the deterministic lockstep <-> this technique
    depending on how long you are willing to wait for input, if you wait forever, it's
    deterministic lockstep and state never needs to be sent, if you wait a finite amount
    of time, it's practically completely deterministic, but state is sent just to fixup
    when input is lost (1 second of packet loss)

    Anyway. Interesting to see how this technique blurs into det lockstep.

    Idea, encode base sequnece # per-object relative to most recent ack packet (header)

    -------------------------------------------------------------------------

    Write conclusion article (pros/cons of each technique) ---> SHORT

    Need this because I need the arc of conclusion for the GDC talk.

        1. The simulation

        2. Deterministic lockstep

        3. Snapshots and interpolation

            *** snapshot compression worked example ***

        4. Stateful synchronization

        5. Conclusion: Pros/cons

        6. Question time: latency hiding, client/server, implementation details etc.

    -------------------------------------------------------------------------

    Make a list of diagrams that need to be created.

    Sketch out the diagrams roughly with pencil/paper.

    Once the basic outline is working hand over to Chantel to create the diagrams w. illustrator.

    Finish slides for GDC.

    -------------------------------------------------------------------------

    Implement javascript to pause video when it is not currently visible

    -------------------------------------------------------------------------
