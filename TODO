DONE:

TODO:

    -----------------------------------------------------------------------

    Do the math on object ids...

    Cost of indexing only the changed set of objects vs. 900 bits for yes/no.

    Write function to determine which approach is the best encoding,
    given the # of different cubes, vs. the # of total cubes.

    Extend the serialize function to use this encoding.

    -----------------------------------------------------------------------

    Next in the case where sending cube ids sort the cubes in order of id.

    Now write the cubes that have changed using a variable bit encoding for delta id.

    Is this effective?

    -----------------------------------------------------------------------

    Split position into grid cells xyz and intra cell fractional bits

    Use this to reduce cost of position sync

    Extend delta encoding to have one bit if cell index has changed,
    therefore in the common case bit is 0, not changed and we only
    need to send fractional bits for the position

    -----------------------------------------------------------------------

    Can we do even better? If the average position change is smaller than
    the cell size in RTT (it is), then we can recognize this and encode
    that smaller.

    Lets say cell size is large (4 meters sq)

    eg. if has moved 25cm-50cm or less then can encode with much less bits

    If this is a common case, this is a big win for moving cubes.

    Ideally, come up with some technique to determine the average position
    difference, maybe even graph the distribution while the game is running
    at a given RTT.

    This would make a cool diagram.

    -----------------------------------------------------------------------

    Encode orientation relative to previous orientation

    If the orientation is within 10 degrees, encode with much less bits,
    otherwise just serialize the existing full size quaternion smallest 3.

    -----------------------------------------------------------------------

    Ready to write "Snapshot Compression" article

    -----------------------------------------------------------------------
